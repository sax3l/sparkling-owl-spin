# ECaDP Platform Environment Variables
# Copy this file to .env and fill in your actual values

# ===== APPLICATION =====
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# ===== DATABASE CONFIGURATION =====
# MySQL Database (Primary)
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DATABASE=ecadp
MYSQL_USER=ecadp_user
MYSQL_PASSWORD=your_mysql_password_here
MYSQL_ROOT_PASSWORD=your_mysql_root_password_here

# MySQL Connection Pool Settings
MYSQL_POOL_SIZE=10
MYSQL_MAX_OVERFLOW=20
MYSQL_POOL_TIMEOUT=30
MYSQL_POOL_RECYCLE=3600
MYSQL_SSL_MODE=PREFERRED

# Redis (Caching & Sessions)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50

# ===== WEB APPLICATION =====
WEBAPP_HOST=0.0.0.0
WEBAPP_PORT=8000
WEBAPP_WORKERS=4
WEBAPP_RELOAD=true
FRONTEND_URL=http://localhost:3000

# ===== SECURITY & AUTHENTICATION =====
# Session Management
SESSION_SECRET_KEY=generate_a_secure_random_key_here
SESSION_COOKIE_SECURE=false
SESSION_MAX_AGE=86400

# JWT Configuration
JWT_SECRET_KEY=generate_a_secure_jwt_key_here
JWT_ACCESS_TOKEN_EXPIRE=30
JWT_REFRESH_TOKEN_EXPIRE=7

# CSRF Protection
CSRF_SECRET_KEY=generate_a_secure_csrf_key_here
CSRF_ENABLED=true

# ===== OAUTH PROVIDERS =====
# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:8000/auth/google/callback

# GitHub OAuth
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_REDIRECT_URI=http://localhost:8000/auth/github/callback

# ===== API CONFIGURATION =====
API_BASE_URL=http://localhost:8000
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_RPM=100
API_RATE_LIMIT_BURST=20

# ===== CRAWLER SETTINGS =====
CRAWLER_MAX_CONCURRENT=5
CRAWLER_DEFAULT_DELAY=1.0
CRAWLER_MAX_RETRIES=3
CRAWLER_TIMEOUT=30

# ===== SCRAPER SETTINGS =====
SCRAPER_MAX_CONCURRENT=10
SCRAPER_DEFAULT_TIMEOUT=30
SCRAPER_MAX_RETRIES=3
SCRAPER_BROWSER_HEADLESS=true
SCRAPER_USER_AGENT_ROTATION=true

# ===== PROXY POOL =====
PROXY_ENABLED=true
PROXY_ROTATION_ENABLED=true
PROXY_VALIDATION_INTERVAL=300

# ===== DATA STORAGE =====
RAW_DATA_BACKEND=filesystem
RAW_DATA_PATH=./data/raw
PROCESSED_DATA_BACKEND=database
EXPORTS_PATH=./data/exports

# ===== FEATURE FLAGS =====
FEATURE_ADVANCED_SELECTORS=true
FEATURE_AI_TEMPLATES=false
FEATURE_AUTO_PAGINATION=true
FEATURE_FORM_AUTOMATION=true
FEATURE_DATA_QUALITY=true
FEATURE_WEBHOOKS=true

# ===== DEVELOPMENT SETTINGS =====
DEV_AUTO_RELOAD=true
DEV_DEBUG_TOOLBAR=true
DEV_MOCK_APIS=false
DEV_SAMPLE_DATA=true
DB_HOST=localhost
DB_PORT=5432
DB_NAME=crawler_db
DB_USER=postgres
DB_PASSWORD=your_password_here
DB_MIN_CONNECTIONS=10
DB_MAX_CONNECTIONS=20

# Redis Configuration  
REDIS_URL="redis://localhost:6379/0"
REDIS_PASSWORD=
REDIS_DB=0

# Security & Authentication
SECRET_KEY=your-secret-key-here-change-in-production
JWT_SECRET_KEY=your-jwt-secret-key-here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Proxy Pool Configuration
PROXY_POOL_MIN_SIZE=50
PROXY_POOL_MAX_SIZE=200
PROXY_HEALTH_CHECK_INTERVAL=300
PROXY_RETRY_FAILED_AFTER=3600

# Anti-Bot Configuration
ANTI_BOT_DELAY_MIN=2000
ANTI_BOT_DELAY_MAX=5000
STEALTH_MODE=true
USER_AGENT_ROTATION=true

# Scraping Configuration
MAX_CONCURRENT_JOBS=10
REQUEST_TIMEOUT=30
RETRY_ATTEMPTS=3
RESPECT_ROBOTS_TXT=true

# Data Storage
S3_BUCKET=your-s3-bucket
S3_ACCESS_KEY=your-s3-access-key
S3_SECRET_KEY=your-s3-secret-key
S3_REGION=us-east-1

# Monitoring & Observability
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
GRAFANA_URL=http://localhost:3000

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=100

# Data Retention
RETENTION_CRAWL_DATA_DAYS=90
RETENTION_EXPORTS_DAYS=30
RETENTION_LOGS_DAYS=14
RETENTION_PROXY_DATA_DAYS=7

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL=daily
BACKUP_RETENTION_DAYS=30

# Development & Testing
TEST_DATABASE_URL=postgresql://postgres:password@localhost:5432/crawler_test_db
MOCK_EXTERNAL_APIS=false

# Selenium Configuration
SELENIUM_GRID_URL=http://localhost:4444
CHROME_DRIVER_PATH=/usr/local/bin/chromedriver
HEADLESS_BROWSER=true

# Feature Flags
ENABLE_TEMPLATE_DRIFT_DETECTION=true
ENABLE_DATA_QUALITY_CHECKS=true
ENABLE_AUTOMATIC_RETRIES=true
ENABLE_PROXY_ROTATION=true

# Performance Tuning
MAX_REQUESTS_PER_SECOND=10
CONNECTION_POOL_SIZE=20
QUERY_TIMEOUT=30
HTTP_TIMEOUT=30

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true

# API Settings
API_SECRET_KEY="your_super_secret_key"
WEBHOOK_SECRET="your_webhook_secret"