#!/bin/bash
# Format code using various formatters

set -e

echo "üé® Formatting code..."

# Python formatting
echo "üêç Formatting Python code..."
if command -v black > /dev/null; then
    black src/ scripts/ tests/
else
    echo "‚ö†Ô∏è Black not found, skipping Python formatting"
fi

if command -v isort > /dev/null; then
    isort src/ scripts/ tests/
else
    echo "‚ö†Ô∏è isort not found, skipping import sorting"
fi

# TypeScript/JavaScript formatting
echo "üìù Formatting TypeScript/JavaScript code..."
if command -v prettier > /dev/null; then
    prettier --write "frontend/**/*.{ts,tsx,js,jsx,json,css,md}"
else
    echo "‚ö†Ô∏è Prettier not found, skipping JS/TS formatting"
fi

# YAML formatting
echo "üìÑ Formatting YAML files..."
if command -v prettier > /dev/null; then
    prettier --write "**/*.{yml,yaml}" --ignore-path .gitignore
else
    echo "‚ö†Ô∏è Prettier not found, skipping YAML formatting"
fi

echo "‚úÖ Code formatting complete!"
