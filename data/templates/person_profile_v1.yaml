template_id: person_profile_v1
version: "1.0.0"
domain: synthetic.local
entity: person
url_pattern: "^https?://(localhost:5080|example\\.test)/person/.*$"

fields:
  - name: "first_name"
    selector: "h1.person .first"
    selector_type: "css"
    required: true
    transforms:
      - type: "strip"
      - type: "normalize_whitespace"
      - type: "title"
    validators:
      - type: "required"

  - name: "last_name"
    selector: "h1.person .last"
    selector_type: "css"
    required: true
    transforms:
      - type: "strip"
      - type: "title"
    validators:
      - type: "required"

  - name: "personal_number"
    selector: ".pnr"
    selector_type: "css"
    required: true
    transforms:
      - type: "strip"
      - type: "regex_sub"
        pattern: "[^0-9-]"
        repl: ""
    validators:
      - type: "regex"
        pattern: "^(19|20)?\\d{6}[-+]?\\d{4}$"