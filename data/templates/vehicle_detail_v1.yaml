template_id: vehicle_detail_v1
version: 1.0.0
domain: synthetic.local
entity: vehicle
url_pattern: "^https?://(localhost:5080|example\\.test)/vehicle/.*$"
requires_js: false

fields:
  - name: registration_number
    selector: ".regnr"
    selector_type: css
    attr: text
    required: true
    transforms:
      - type: strip
      - type: upper
    validators:
      - type: regex
        pattern: "^[A-Z0-9]{3,8}$"

  - name: vin
    selector: ".vin"
    selector_type: css
    attr: text
    required: false
    transforms:
      - type: strip
      - type: upper
    validators:
      - type: length_range
        min: 17
        max: 17

  - name: make
    selector: ".make"
    selector_type: css
    attr: text
    transforms:
      - type: strip
      - type: title

  - name: model
    selector: ".model"
    selector_type: css
    attr: text
    transforms:
      - type: strip

  - name: model_year
    selector: ".model-year"
    selector_type: css
    attr: text
    transforms:
      - type: strip
      - type: to_int
    validators:
      - type: numeric_range
        min: 1950
        max: 2100

samples:
  sample_urls:
    - "http://localhost:5080/vehicle/ABC123"